# HTTP Port (default microservice runs on 8080)
quarkus.http.port=8080

# gRPC Port
quarkus.grpc.server.port=9000

# OIDC Configuration
quarkus.oidc.auth-server-url=http://localhost:8180/realms/quarkus
quarkus.oidc.client-id=logistics-app
quarkus.oidc.credentials.secret=**********
quarkus.oidc.application-type=web-app
quarkus.oidc.roles.source=accesstoken

# Security Configuration
quarkus.http.auth.permission.public.paths=/,/login,/q/*,/hello
quarkus.http.auth.permission.public.policy=permit
quarkus.http.auth.permission.authenticated.paths=/*
quarkus.http.auth.permission.authenticated.policy=authenticated

# Dev Services - Auto Keycloak for dev mode
%dev.quarkus.oidc.auth-server-url=http://localhost:8180/realms/quarkus
%dev.quarkus.oidc.client-id=logistics-app
%dev.quarkus.oidc.credentials.secret=secret
%dev.quarkus.keycloak.devservices.enabled=true
%dev.quarkus.keycloak.devservices.realm-path=quarkus-realm.json
%dev.quarkus.keycloak.devservices.users.alice=alice
%dev.quarkus.keycloak.devservices.users.bob=admin

# REST Client configurations for microservices communication
quarkus.rest-client.warehouse-api.url=http://localhost:8080
quarkus.rest-client.delivery-api.url=http://localhost:8080
quarkus.rest-client.notification-api.url=http://localhost:8080

# gRPC Client configurations
quarkus.grpc.clients.warehouse-grpc.host=localhost
quarkus.grpc.clients.warehouse-grpc.port=9000
quarkus.grpc.clients.delivery-grpc.host=localhost
quarkus.grpc.clients.delivery-grpc.port=9000

# For testing, you can enable logging
quarkus.log.category."org.acme".level=DEBUG
quarkus.log.category."io.grpc".level=INFO

# Production Configuration
%prod.quarkus.oidc.auth-server-url=http://localhost:8180/realms/quarkus
%prod.quarkus.oidc.client-id=logistics-app
%prod.quarkus.oidc.credentials.secret=secret
%prod.quarkus.oidc.application-type=web-app
%prod.quarkus.oidc.roles.source=accesstoken
%prod.quarkus.oidc.token-state-manager.encryption-required=true
%prod.quarkus.oidc.token-state-manager.encryption-secret=ThisIsAVerySecretEncryptionKey32Chars

# Production Security
%prod.quarkus.http.auth.permission.public.paths=/,/login,/q/*,/hello
%prod.quarkus.http.auth.permission.public.policy=permit
%prod.quarkus.http.auth.permission.authenticated.paths=/*
%prod.quarkus.http.auth.permission.authenticated.policy=authenticated

# Production REST Clients
%prod.quarkus.rest-client.warehouse-api.url=http://localhost:8080
%prod.quarkus.rest-client.delivery-api.url=http://localhost:8080
%prod.quarkus.rest-client.notification-api.url=http://localhost:8080

# Production gRPC
%prod.quarkus.grpc.clients.warehouse-grpc.host=localhost
%prod.quarkus.grpc.clients.warehouse-grpc.port=9000
%prod.quarkus.grpc.clients.delivery-grpc.host=localhost
%prod.quarkus.grpc.clients.delivery-grpc.port=9000

# Production Logging
%prod.quarkus.log.category."org.acme".level=INFO
%prod.quarkus.log.category."io.grpc".level=WARN
%prod.quarkus.log.console.format=%d{yyyy-MM-dd HH:mm:ss,SSS} %-5p [%c{3.}] (%t) %s%e%n
